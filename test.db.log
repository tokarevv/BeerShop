/*C37*/SET SCHEMA PUBLIC
DISCONNECT
/*C38*/SET SCHEMA PUBLIC
alter table Appointment drop constraint FKB7F037F5D316960
alter table Appointment drop constraint FKB7F037FA9C3B180
alter table Article drop constraint FK379164D6E26EC3A0
alter table Manager drop constraint FK9501A78D1F3FB240
alter table Outlet drop constraint FK8D75F42D5D316960
alter table OutletOrder drop constraint FK437B372137119E34
alter table OutletOrderStructure drop constraint FK3BB98B52E99F4BD4
alter table OutletOrderStructure drop constraint FK3BB98B5240CD42D4
alter table OutletOrder_OutletOrderStructure drop constraint FK4236DDB040CD42D4
alter table OutletOrder_OutletOrderStructure drop constraint FK4236DDB0FFAE0EFF
alter table Payment drop constraint FK3454C9E6A9C3B180
alter table SalesRep drop constraint FK774E30111F3FB240
alter table SalesRep drop constraint FK774E3011DC305C80
alter table SalesRep_Payment drop constraint FKB78DFFB880CB2F4D
alter table SalesRep_Payment drop constraint FKB78DFFB85D316960
alter table SalesRep_Visit drop constraint FK9A3DDF7D5D316960
alter table SalesRep_Visit drop constraint FK9A3DDF7D48B5E9D7
alter table SupOrderStructure drop constraint FK80E8C793E99F4BD4
alter table SupOrderStructure drop constraint FK80E8C793A8D884B4
alter table SuperVisor drop constraint FKFE53F681F3FB240
alter table SupplierOrders drop constraint FKB53F8BF1D1F33C74
alter table SupplierOrders drop constraint FKB53F8BF1E26EC3A0
alter table Visit drop constraint FK4ED5D2BA9C3B180
alter table Visit drop constraint FK4ED5D2B72CA97C7
drop table Appointment if exists
drop table Article if exists
drop table Manager if exists
drop table Outlet if exists
drop table OutletOrder if exists
drop table OutletOrderStructure if exists
drop table OutletOrder_OutletOrderStructure if exists
drop table Payment if exists
drop table SalesRep if exists
drop table SalesRep_Payment if exists
drop table SalesRep_Visit if exists
drop table SupOrderStructure if exists
drop table SuperVisor if exists
drop table Supplier if exists
drop table SupplierOrders if exists
drop table User if exists
drop table Visit if exists
create table Appointment (ID bigint generated by default as identity (start with 1), weekDay integer not null, outlet_id bigint, salesRep_id bigint, primary key (ID))
create table Article (id bigint generated by default as identity (start with 1), barcode varchar(255), comment varchar(255), name varchar(255) not null, percent integer, price double, quantity integer, type varchar(255), unit varchar(255), Supplier_id bigint, primary key (id))
create table Manager (ID bigint generated by default as identity (start with 1), user_id bigint not null, primary key (ID), unique (user_id))
create table Outlet (id bigint generated by default as identity (start with 1), INN varchar(255), OKPO varchar(255), address varchar(255), comment varchar(255), contractNumber varchar(255), discount integer, email varchar(255), groupp varchar(255), latitude double, longitude double, name varchar(255) not null, phone varchar(255), registerDate date, sertificateNumber varchar(255), svidNumber varchar(255), salesRep_id bigint, primary key (id))
create table OutletOrder (id bigint generated by default as identity (start with 1), discount tinyint, payment double, type varchar(255), visit_ID bigint, primary key (id))
create table OutletOrderStructure (id bigint generated by default as identity (start with 1), amount integer, price double, article_id bigint, outletOrder_id bigint, primary key (id))
create table OutletOrder_OutletOrderStructure (OutletOrder_id bigint not null, structure_id bigint not null, unique (structure_id))
create table Payment (id bigint generated by default as identity (start with 1), amount double not null, time timestamp, outlet_id bigint, primary key (id))
create table SalesRep (id bigint generated by default as identity (start with 1), phone varchar(255), supervisor_id bigint, user_id bigint not null, primary key (id), unique (user_id))
create table SalesRep_Payment (SalesRep_id bigint not null, payments_id bigint not null, primary key (SalesRep_id, payments_id), unique (payments_id))
create table SalesRep_Visit (SalesRep_id bigint not null, visits_ID bigint not null, primary key (SalesRep_id, visits_ID), unique (visits_ID))
create table SupOrderStructure (ID bigint generated by default as identity (start with 1), amount double, price double, article_id bigint, supplierOrder_id bigint, primary key (ID))
create table SuperVisor (id bigint generated by default as identity (start with 1), comment varchar(255), user_id bigint not null, primary key (id), unique (user_id))
create table Supplier (id bigint generated by default as identity (start with 1), INN varchar(255), OKPO varchar(255), address varchar(255), comment varchar(255), email varchar(255), name varchar(255) not null, phone varchar(255), svidNumber varchar(255), primary key (id))
create table SupplierOrders (id bigint generated by default as identity (start with 1), comment varchar(255), orderDate timestamp, orderDoneDate varchar(255), status boolean, type varchar(255), manager_ID bigint, supplier_id bigint not null, primary key (id), unique (supplier_id))
create table User (id bigint generated by default as identity (start with 1), fullname varchar(255), login varchar(255) not null, password varchar(255), post varchar(255), primary key (id))
create table Visit (ID bigint generated by default as identity (start with 1), lat double, lng double, time timestamp, order_id bigint, outlet_id bigint, primary key (ID))
alter table Appointment add constraint FKB7F037F5D316960 foreign key (salesRep_id) references SalesRep
alter table Appointment add constraint FKB7F037FA9C3B180 foreign key (outlet_id) references Outlet
alter table Article add constraint FK379164D6E26EC3A0 foreign key (Supplier_id) references Supplier
alter table Manager add constraint FK9501A78D1F3FB240 foreign key (user_id) references User
alter table Outlet add constraint FK8D75F42D5D316960 foreign key (salesRep_id) references SalesRep
alter table OutletOrder add constraint FK437B372137119E34 foreign key (visit_ID) references Visit
alter table OutletOrderStructure add constraint FK3BB98B52E99F4BD4 foreign key (article_id) references Article
alter table OutletOrderStructure add constraint FK3BB98B5240CD42D4 foreign key (outletOrder_id) references OutletOrder
alter table OutletOrder_OutletOrderStructure add constraint FK4236DDB040CD42D4 foreign key (OutletOrder_id) references OutletOrder
alter table OutletOrder_OutletOrderStructure add constraint FK4236DDB0FFAE0EFF foreign key (structure_id) references OutletOrderStructure
alter table Payment add constraint FK3454C9E6A9C3B180 foreign key (outlet_id) references Outlet
alter table SalesRep add constraint FK774E30111F3FB240 foreign key (user_id) references User
alter table SalesRep add constraint FK774E3011DC305C80 foreign key (supervisor_id) references SuperVisor
alter table SalesRep_Payment add constraint FKB78DFFB880CB2F4D foreign key (payments_id) references Payment
alter table SalesRep_Payment add constraint FKB78DFFB85D316960 foreign key (SalesRep_id) references SalesRep
alter table SalesRep_Visit add constraint FK9A3DDF7D5D316960 foreign key (SalesRep_id) references SalesRep
alter table SalesRep_Visit add constraint FK9A3DDF7D48B5E9D7 foreign key (visits_ID) references Visit
alter table SupOrderStructure add constraint FK80E8C793E99F4BD4 foreign key (article_id) references Article
alter table SupOrderStructure add constraint FK80E8C793A8D884B4 foreign key (supplierOrder_id) references SupplierOrders
alter table SuperVisor add constraint FKFE53F681F3FB240 foreign key (user_id) references User
alter table SupplierOrders add constraint FKB53F8BF1D1F33C74 foreign key (manager_ID) references Manager
alter table SupplierOrders add constraint FKB53F8BF1E26EC3A0 foreign key (supplier_id) references Supplier
alter table Visit add constraint FK4ED5D2BA9C3B180 foreign key (outlet_id) references Outlet
alter table Visit add constraint FK4ED5D2B72CA97C7 foreign key (order_id) references OutletOrder
DISCONNECT
/*C39*/SET SCHEMA PUBLIC
DISCONNECT
/*C40*/SET SCHEMA PUBLIC
DISCONNECT
/*C41*/SET SCHEMA PUBLIC
DISCONNECT
/*C42*/SET SCHEMA PUBLIC
DISCONNECT
/*C43*/SET SCHEMA PUBLIC
DISCONNECT
/*C44*/SET SCHEMA PUBLIC
DISCONNECT
/*C45*/SET SCHEMA PUBLIC
DISCONNECT
/*C46*/SET SCHEMA PUBLIC
DISCONNECT
/*C47*/SET SCHEMA PUBLIC
DISCONNECT
/*C48*/SET SCHEMA PUBLIC
DISCONNECT
/*C49*/SET SCHEMA PUBLIC
DISCONNECT
/*C50*/SET SCHEMA PUBLIC
DISCONNECT
/*C51*/SET SCHEMA PUBLIC
DISCONNECT
/*C52*/SET SCHEMA PUBLIC
DISCONNECT
/*C53*/SET SCHEMA PUBLIC
DISCONNECT
/*C54*/SET SCHEMA PUBLIC
DISCONNECT
/*C55*/SET SCHEMA PUBLIC
DISCONNECT
/*C56*/SET SCHEMA PUBLIC
DISCONNECT
/*C57*/SET SCHEMA PUBLIC
DISCONNECT
/*C58*/SET SCHEMA PUBLIC
DISCONNECT
/*C59*/SET SCHEMA PUBLIC
DISCONNECT
/*C60*/SET SCHEMA PUBLIC
DISCONNECT
/*C61*/SET SCHEMA PUBLIC
DISCONNECT
/*C62*/SET SCHEMA PUBLIC
DISCONNECT
/*C63*/SET SCHEMA PUBLIC
DISCONNECT
/*C64*/SET SCHEMA PUBLIC
DISCONNECT
/*C65*/SET SCHEMA PUBLIC
DISCONNECT
/*C66*/SET SCHEMA PUBLIC
DISCONNECT
/*C67*/SET SCHEMA PUBLIC
DISCONNECT
/*C68*/SET SCHEMA PUBLIC
DISCONNECT
/*C69*/SET SCHEMA PUBLIC
DISCONNECT
/*C70*/SET SCHEMA PUBLIC
DISCONNECT
/*C71*/SET SCHEMA PUBLIC
DISCONNECT
/*C72*/SET SCHEMA PUBLIC
DISCONNECT
/*C73*/SET SCHEMA PUBLIC
DISCONNECT
/*C74*/SET SCHEMA PUBLIC
DISCONNECT
/*C75*/SET SCHEMA PUBLIC
DISCONNECT
/*C76*/SET SCHEMA PUBLIC
DISCONNECT
/*C77*/SET SCHEMA PUBLIC
alter table Appointment drop constraint FKB7F037F5D316960
alter table Appointment drop constraint FKB7F037FA9C3B180
alter table Article drop constraint FK379164D6E26EC3A0
alter table Manager drop constraint FK9501A78D1F3FB240
alter table Outlet drop constraint FK8D75F42D5D316960
alter table OutletOrder drop constraint FK437B372137119E34
alter table OutletOrderStructure drop constraint FK3BB98B52E99F4BD4
alter table OutletOrderStructure drop constraint FK3BB98B5240CD42D4
alter table OutletOrder_OutletOrderStructure drop constraint FK4236DDB040CD42D4
alter table OutletOrder_OutletOrderStructure drop constraint FK4236DDB0FFAE0EFF
alter table Payment drop constraint FK3454C9E6A9C3B180
alter table SalesRep drop constraint FK774E30111F3FB240
alter table SalesRep drop constraint FK774E3011DC305C80
alter table SalesRep_Payment drop constraint FKB78DFFB880CB2F4D
