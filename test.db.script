SET DATABASE UNIQUE NAME HSQLDB38B9D76E73
SET DATABASE GC 0
SET DATABASE DEFAULT RESULT MEMORY ROWS 0
SET DATABASE EVENT LOG LEVEL 0
SET DATABASE SQL NAMES FALSE
SET DATABASE SQL REFERENCES FALSE
SET DATABASE SQL SIZE FALSE
SET DATABASE SQL TYPES FALSE
SET DATABASE SQL TDC DELETE TRUE
SET DATABASE SQL TDC UPDATE TRUE
SET DATABASE SQL TRANSLATE TTI TYPES TRUE
SET DATABASE SQL CONCAT NULLS TRUE
SET DATABASE SQL NULLS FIRST TRUE
SET DATABASE SQL UNIQUE NULLS TRUE
SET DATABASE SQL CONVERT TRUNCATE TRUE
SET DATABASE SQL AVG SCALE 0
SET DATABASE SQL DOUBLE NAN TRUE
SET DATABASE SQL LONGVAR IS LOB FALSE
SET DATABASE TRANSACTION CONTROL LOCKS
SET DATABASE DEFAULT ISOLATION LEVEL READ COMMITTED
SET DATABASE TRANSACTION ROLLBACK ON CONFLICT TRUE
SET DATABASE TEXT TABLE DEFAULTS ''
SET FILES WRITE DELAY 10
SET FILES BACKUP INCREMENT TRUE
SET FILES CACHE SIZE 10000
SET FILES CACHE ROWS 50000
SET FILES SCALE 1
SET FILES LOB SCALE 32
SET FILES DEFRAG 0
SET FILES NIO TRUE
SET FILES NIO SIZE 256
SET FILES LOG TRUE
SET FILES LOG SIZE 200
CREATE USER SA PASSWORD DIGEST 'd41d8cd98f00b204e9800998ecf8427e'
CREATE SCHEMA PUBLIC AUTHORIZATION DBA
SET SCHEMA PUBLIC
CREATE MEMORY TABLE PUBLIC.APPOINTMENT(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,WEEKDAY INTEGER NOT NULL,OUTLET_ID BIGINT,SALESREP_ID BIGINT)
ALTER TABLE PUBLIC.APPOINTMENT ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.ARTICLE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,BARCODE VARCHAR(255),COMMENT VARCHAR(255),NAME VARCHAR(255) NOT NULL,PRICE DOUBLE,TYPE VARCHAR(255),UNIT VARCHAR(255),SUPPLIER_ID BIGINT)
ALTER TABLE PUBLIC.ARTICLE ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.MANAGER(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,USER_ID BIGINT NOT NULL,UNIQUE(USER_ID))
ALTER TABLE PUBLIC.MANAGER ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.OUTLET(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,INN VARCHAR(255),OKPO VARCHAR(255),ADDRESS VARCHAR(255),COMMENT VARCHAR(255),CONTRACTNUMBER VARCHAR(255),DISCOUNT TINYINT,EMAIL VARCHAR(255),GROUPP VARCHAR(255),NAME VARCHAR(255) NOT NULL,PHONE VARCHAR(255),REGISTERDATE DATE,SERTIFICATENUMBER VARCHAR(255),SVIDNUMBER VARCHAR(255),SALESREP_ID BIGINT)
ALTER TABLE PUBLIC.OUTLET ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.OUTLETORDER(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DISCOUNT TINYINT,PAYMENT DOUBLE,TYPE VARCHAR(255),VISIT_ID BIGINT)
ALTER TABLE PUBLIC.OUTLETORDER ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.OUTLETORDERSTRUCTURE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,AMOUNT DOUBLE,PRICE DOUBLE,ARTICLE_ID BIGINT,OUTLETORDER_ID BIGINT,CONSTRAINT FK3BB98B52E99F4BD4 FOREIGN KEY(ARTICLE_ID) REFERENCES PUBLIC.ARTICLE(ID),CONSTRAINT FK3BB98B5240CD42D4 FOREIGN KEY(OUTLETORDER_ID) REFERENCES PUBLIC.OUTLETORDER(ID))
ALTER TABLE PUBLIC.OUTLETORDERSTRUCTURE ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.OUTLETORDER_OUTLETORDERSTRUCTURE(OUTLETORDER_ID BIGINT NOT NULL,STRUCTURE_ID BIGINT NOT NULL,UNIQUE(STRUCTURE_ID),CONSTRAINT FK4236DDB040CD42D4 FOREIGN KEY(OUTLETORDER_ID) REFERENCES PUBLIC.OUTLETORDER(ID),CONSTRAINT FK4236DDB0FFAE0EFF FOREIGN KEY(STRUCTURE_ID) REFERENCES PUBLIC.OUTLETORDERSTRUCTURE(ID))
CREATE MEMORY TABLE PUBLIC.PAYMENT(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,AMOUNT DOUBLE NOT NULL,TIME TIMESTAMP,OUTLET_ID BIGINT,CONSTRAINT FK3454C9E6A9C3B180 FOREIGN KEY(OUTLET_ID) REFERENCES PUBLIC.OUTLET(ID))
ALTER TABLE PUBLIC.PAYMENT ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.SALESREP(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,PHONE VARCHAR(255),SUPERVISOR_ID BIGINT,USER_ID BIGINT NOT NULL,UNIQUE(USER_ID))
ALTER TABLE PUBLIC.SALESREP ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.SALESREP_PAYMENT(SALESREP_ID BIGINT NOT NULL,PAYMENTS_ID BIGINT NOT NULL,PRIMARY KEY(SALESREP_ID,PAYMENTS_ID),UNIQUE(PAYMENTS_ID),CONSTRAINT FKB78DFFB880CB2F4D FOREIGN KEY(PAYMENTS_ID) REFERENCES PUBLIC.PAYMENT(ID),CONSTRAINT FKB78DFFB85D316960 FOREIGN KEY(SALESREP_ID) REFERENCES PUBLIC.SALESREP(ID))
CREATE MEMORY TABLE PUBLIC.SALESREP_VISIT(SALESREP_ID BIGINT NOT NULL,VISITS_ID BIGINT NOT NULL,PRIMARY KEY(SALESREP_ID,VISITS_ID),UNIQUE(VISITS_ID),CONSTRAINT FK9A3DDF7D5D316960 FOREIGN KEY(SALESREP_ID) REFERENCES PUBLIC.SALESREP(ID))
CREATE MEMORY TABLE PUBLIC.SUPORDERSTRUCTURE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,AMOUNT DOUBLE,PRICE DOUBLE,ARTICLE_ID BIGINT,SUPPLIERORDER_ID BIGINT,CONSTRAINT FK80E8C793E99F4BD4 FOREIGN KEY(ARTICLE_ID) REFERENCES PUBLIC.ARTICLE(ID))
ALTER TABLE PUBLIC.SUPORDERSTRUCTURE ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.SUPERVISOR(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,COMMENT VARCHAR(255),USER_ID BIGINT NOT NULL,UNIQUE(USER_ID))
ALTER TABLE PUBLIC.SUPERVISOR ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.SUPPLIER(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,INN VARCHAR(255),OKPO VARCHAR(255),ADDRESS VARCHAR(255),COMMENT VARCHAR(255),EMAIL VARCHAR(255),NAME VARCHAR(255) NOT NULL,PHONE VARCHAR(255),SVIDNUMBER VARCHAR(255))
ALTER TABLE PUBLIC.SUPPLIER ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.SUPPLIERORDERS(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,COMMENT VARCHAR(255),ORDERDATE TIMESTAMP,ORDERDONEDATE VARCHAR(255),STATUS BOOLEAN,TYPE VARCHAR(255),MANAGER_ID BIGINT,CONSTRAINT FKB53F8BF1D1F33C74 FOREIGN KEY(MANAGER_ID) REFERENCES PUBLIC.MANAGER(ID))
ALTER TABLE PUBLIC.SUPPLIERORDERS ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.SUPPLIERORDERS_SUPORDERSTRUCTURE(SUPPLIERORDERS_ID BIGINT NOT NULL,ORDERSTRUCT_ID BIGINT NOT NULL,UNIQUE(ORDERSTRUCT_ID),CONSTRAINT FK170482C51A67AF44 FOREIGN KEY(ORDERSTRUCT_ID) REFERENCES PUBLIC.SUPORDERSTRUCTURE(ID),CONSTRAINT FK170482C5C2B44BA5 FOREIGN KEY(SUPPLIERORDERS_ID) REFERENCES PUBLIC.SUPPLIERORDERS(ID))
CREATE MEMORY TABLE PUBLIC.USER(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,FULLNAME VARCHAR(255),LOGIN VARCHAR(255) NOT NULL,PASSWORD VARCHAR(255),POST VARCHAR(255))
ALTER TABLE PUBLIC.USER ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.VISIT(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,LAT DOUBLE,LNG DOUBLE,TIME TIMESTAMP,ORDER_ID BIGINT,OUTLET_ID BIGINT,CONSTRAINT FK4ED5D2BA9C3B180 FOREIGN KEY(OUTLET_ID) REFERENCES PUBLIC.OUTLET(ID),CONSTRAINT FK4ED5D2B72CA97C7 FOREIGN KEY(ORDER_ID) REFERENCES PUBLIC.OUTLETORDER(ID))
ALTER TABLE PUBLIC.VISIT ALTER COLUMN ID RESTART WITH 1
ALTER TABLE PUBLIC.APPOINTMENT ADD CONSTRAINT FKB7F037F5D316960 FOREIGN KEY(SALESREP_ID) REFERENCES PUBLIC.SALESREP(ID)
ALTER TABLE PUBLIC.APPOINTMENT ADD CONSTRAINT FKB7F037FA9C3B180 FOREIGN KEY(OUTLET_ID) REFERENCES PUBLIC.OUTLET(ID)
ALTER TABLE PUBLIC.ARTICLE ADD CONSTRAINT FK379164D6E26EC3A0 FOREIGN KEY(SUPPLIER_ID) REFERENCES PUBLIC.SUPPLIER(ID)
ALTER TABLE PUBLIC.MANAGER ADD CONSTRAINT FK9501A78D1F3FB240 FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USER(ID)
ALTER TABLE PUBLIC.OUTLET ADD CONSTRAINT FK8D75F42D5D316960 FOREIGN KEY(SALESREP_ID) REFERENCES PUBLIC.SALESREP(ID)
ALTER TABLE PUBLIC.OUTLETORDER ADD CONSTRAINT FK437B372137119E34 FOREIGN KEY(VISIT_ID) REFERENCES PUBLIC.VISIT(ID)
ALTER TABLE PUBLIC.SALESREP ADD CONSTRAINT FK774E30111F3FB240 FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USER(ID)
ALTER TABLE PUBLIC.SALESREP ADD CONSTRAINT FK774E3011DC305C80 FOREIGN KEY(SUPERVISOR_ID) REFERENCES PUBLIC.SUPERVISOR(ID)
ALTER TABLE PUBLIC.SALESREP_VISIT ADD CONSTRAINT FK9A3DDF7D48B5E9D7 FOREIGN KEY(VISITS_ID) REFERENCES PUBLIC.VISIT(ID)
ALTER TABLE PUBLIC.SUPORDERSTRUCTURE ADD CONSTRAINT FK80E8C793A8D884B4 FOREIGN KEY(SUPPLIERORDER_ID) REFERENCES PUBLIC.SUPPLIERORDERS(ID)
ALTER TABLE PUBLIC.SUPERVISOR ADD CONSTRAINT FKFE53F681F3FB240 FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USER(ID)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 1
SET DATABASE DEFAULT INITIAL SCHEMA PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.YES_OR_NO TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.TIME_STAMP TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.CARDINAL_NUMBER TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.CHARACTER_DATA TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.SQL_IDENTIFIER TO PUBLIC
GRANT DBA TO SA
