CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE APPOINTMENT(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,WEEKDAY INTEGER NOT NULL,OUTLET_ID BIGINT,SALESREP_ID BIGINT)
CREATE MEMORY TABLE ARTICLE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,BARCODE VARCHAR(255),COMMENT VARCHAR(255),NAME VARCHAR(255) NOT NULL,PRICE DOUBLE,TYPE VARCHAR(255),UNIT VARCHAR(255),SUPPLIER_ID BIGINT)
CREATE MEMORY TABLE CONTACTS(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,EMAIL VARCHAR(255),FIRSTNAME VARCHAR(255),LASTNAME VARCHAR(255),TELEPHONE VARCHAR(255))
CREATE MEMORY TABLE MANAGER(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DATEOFDIRECT TIMESTAMP)
CREATE MEMORY TABLE OUTLETORDER(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DISCOUNT TINYINT,PAYMENT DOUBLE,TYPE VARCHAR(255),VISIT_ID BIGINT)
CREATE MEMORY TABLE OUTLETORDERSTRUCTURE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,AMOUNT DOUBLE,PRICE DOUBLE,ARTICLE_ID BIGINT,OUTLETORDER_ID BIGINT,CONSTRAINT FK3BB98B52E99F4BD4 FOREIGN KEY(ARTICLE_ID) REFERENCES ARTICLE(ID),CONSTRAINT FK3BB98B5240CD42D4 FOREIGN KEY(OUTLETORDER_ID) REFERENCES OUTLETORDER(ID))
CREATE MEMORY TABLE OUTLETORDER_OUTLETORDERSTRUCTURE(OUTLETORDER_ID BIGINT NOT NULL,STRUCTURE_ID BIGINT NOT NULL,CONSTRAINT SYS_CT_58 UNIQUE(STRUCTURE_ID),CONSTRAINT FK4236DDB040CD42D4 FOREIGN KEY(OUTLETORDER_ID) REFERENCES OUTLETORDER(ID),CONSTRAINT FK4236DDB0FFAE0EFF FOREIGN KEY(STRUCTURE_ID) REFERENCES OUTLETORDERSTRUCTURE(ID))
CREATE MEMORY TABLE PAYMENT(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,AMOUNT DOUBLE NOT NULL,TIME TIMESTAMP,OUTLET_ID BIGINT)
CREATE MEMORY TABLE SALESREP(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,PHONE VARCHAR(255),SUPERVISOR_ID BIGINT,USER_ID BIGINT)
CREATE MEMORY TABLE SALESREP_PAYMENT(SALESREP_ID BIGINT NOT NULL,PAYMENTS_ID BIGINT NOT NULL,PRIMARY KEY(SALESREP_ID,PAYMENTS_ID),CONSTRAINT SYS_CT_65 UNIQUE(PAYMENTS_ID),CONSTRAINT FKB78DFFB880CB2F4D FOREIGN KEY(PAYMENTS_ID) REFERENCES PAYMENT(ID),CONSTRAINT FKB78DFFB85D316960 FOREIGN KEY(SALESREP_ID) REFERENCES SALESREP(ID))
CREATE MEMORY TABLE SALESREP_VISIT(SALESREP_ID BIGINT NOT NULL,VISITS_ID BIGINT NOT NULL,PRIMARY KEY(SALESREP_ID,VISITS_ID),CONSTRAINT SYS_CT_69 UNIQUE(VISITS_ID),CONSTRAINT FK9A3DDF7D5D316960 FOREIGN KEY(SALESREP_ID) REFERENCES SALESREP(ID))
CREATE MEMORY TABLE SUPORDERSTRUCTURES(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,AMOUNT DOUBLE,PRICE DOUBLE,ARTICLE_ID BIGINT,SUPPLIERORDER_ID BIGINT,CONSTRAINT FK9C302B40E99F4BD4 FOREIGN KEY(ARTICLE_ID) REFERENCES ARTICLE(ID))
CREATE MEMORY TABLE SUPERVISOR(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,COMMENT VARCHAR(255),USER_ID BIGINT)
CREATE MEMORY TABLE SUPPLIER(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,INN VARCHAR(255),OKPO VARCHAR(255),ADDRESS VARCHAR(255),COMMENT VARCHAR(255),EMAIL VARCHAR(255),NAME VARCHAR(255) NOT NULL,PHONE VARCHAR(255),SVIDNUMBER VARCHAR(255))
CREATE MEMORY TABLE SUPPLIERORDERS(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,COMMENT VARCHAR(255),ORDERDATE TIMESTAMP,ORDERDONEDATE VARCHAR(255),STATUS BOOLEAN,TYPE VARCHAR(255),MANAGER_ID BIGINT,CONSTRAINT FKB53F8BF1D1F33C74 FOREIGN KEY(MANAGER_ID) REFERENCES MANAGER(ID))
CREATE MEMORY TABLE SUPPLIERORDERS_SUPORDERSTRUCTURES(SUPPLIERORDERS_ID BIGINT NOT NULL,ORDERSTRUCT_ID BIGINT NOT NULL,CONSTRAINT SYS_CT_81 UNIQUE(ORDERSTRUCT_ID),CONSTRAINT FKC98BD64E1A67AF44 FOREIGN KEY(ORDERSTRUCT_ID) REFERENCES SUPORDERSTRUCTURES(ID),CONSTRAINT FKC98BD64EC2B44BA5 FOREIGN KEY(SUPPLIERORDERS_ID) REFERENCES SUPPLIERORDERS(ID))
CREATE MEMORY TABLE USER(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,FULLNAME VARCHAR(255),LOGIN VARCHAR(255) NOT NULL,PASSWORD VARCHAR(255),POST VARCHAR(255))
CREATE MEMORY TABLE VISIT(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,LAT DOUBLE,LNG DOUBLE,TIME TIMESTAMP,ORDER_ID BIGINT,OUTLET_ID BIGINT,CONSTRAINT FK4ED5D2B72CA97C7 FOREIGN KEY(ORDER_ID) REFERENCES OUTLETORDER(ID))
ALTER TABLE APPOINTMENT ADD CONSTRAINT FKB7F037F5D316960 FOREIGN KEY(SALESREP_ID) REFERENCES SALESREP(ID)
ALTER TABLE ARTICLE ADD CONSTRAINT FK379164D6E26EC3A0 FOREIGN KEY(SUPPLIER_ID) REFERENCES SUPPLIER(ID)
ALTER TABLE OUTLETORDER ADD CONSTRAINT FK437B372137119E34 FOREIGN KEY(VISIT_ID) REFERENCES VISIT(ID)
ALTER TABLE SALESREP ADD CONSTRAINT FK774E30111F3FB240 FOREIGN KEY(USER_ID) REFERENCES USER(ID)
ALTER TABLE SALESREP ADD CONSTRAINT FK774E3011DC305C80 FOREIGN KEY(SUPERVISOR_ID) REFERENCES SUPERVISOR(ID)
ALTER TABLE SALESREP_VISIT ADD CONSTRAINT FK9A3DDF7D48B5E9D7 FOREIGN KEY(VISITS_ID) REFERENCES VISIT(ID)
ALTER TABLE SUPORDERSTRUCTURES ADD CONSTRAINT FK9C302B40A8D884B4 FOREIGN KEY(SUPPLIERORDER_ID) REFERENCES SUPPLIERORDERS(ID)
ALTER TABLE SUPERVISOR ADD CONSTRAINT FKFE53F681F3FB240 FOREIGN KEY(USER_ID) REFERENCES USER(ID)
ALTER TABLE APPOINTMENT ALTER COLUMN ID RESTART WITH 3
ALTER TABLE ARTICLE ALTER COLUMN ID RESTART WITH 3
ALTER TABLE CONTACTS ALTER COLUMN ID RESTART WITH 1
ALTER TABLE MANAGER ALTER COLUMN ID RESTART WITH 1
ALTER TABLE OUTLETORDER ALTER COLUMN ID RESTART WITH 1
ALTER TABLE OUTLETORDERSTRUCTURE ALTER COLUMN ID RESTART WITH 1
ALTER TABLE PAYMENT ALTER COLUMN ID RESTART WITH 1
ALTER TABLE SALESREP ALTER COLUMN ID RESTART WITH 1
ALTER TABLE SUPORDERSTRUCTURES ALTER COLUMN ID RESTART WITH 3
ALTER TABLE SUPERVISOR ALTER COLUMN ID RESTART WITH 1
ALTER TABLE SUPPLIER ALTER COLUMN ID RESTART WITH 2
ALTER TABLE SUPPLIERORDERS ALTER COLUMN ID RESTART WITH 3
ALTER TABLE USER ALTER COLUMN ID RESTART WITH 6
ALTER TABLE VISIT ALTER COLUMN ID RESTART WITH 3
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
SET WRITE_DELAY 10
